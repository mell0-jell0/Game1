TODO: fix click handling so that path is not cleared if a pathwalk is active.
TODO: add muzzle flash animation to attack handling
TODO: add turn stepping
TODO: do a consistency pass. Make functions act on objects consistently, make formatting consistent. are surfaces passed around, are (surface, rect) tuples passed around? where is the rect updated? I want to be able to use groups so the rects for the images need to be updated correctly.